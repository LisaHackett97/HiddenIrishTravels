{% extends "base.html" %}

{% block content %}


<h1>Welcome to Hidden Irish Travels</h1>
<!-- Link to bring user to their page -->
{% if session.user %}
<a href="{{ url_for('user_page', username=session['user'])}}" class="btn col s6 page-btn">Your page <i class="far fa-user-circle"></i></a>
{% endif %}
<p>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
    Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur
    sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."<i
        class="far fa-smile"></i></p>

        
<div class="row center-align">    
       <button id="home-search-button"><i class="fas fa-search"></i></button>
       <div class="row center-align" id="clear-search">
        <a href="{{ url_for('user_page', username=session['user'])}}"> <i class="fas fa-times"></i> Clear Search</a>
    </div>
</div>

<!-- search on the home page will give results which are not filtered by user name-->
<div class="container search-container">
        <div class="row card-panel search-card">
        <form action="{{ url_for('search') }}" method="POST" class="col s12" id="search-form">

            <div class="row valign-wrapper center-align">
                <!-- <div class="row"> -->
                <div class="input-field col s8" id="search-input">
                    <input type="text" name="query" id="query" required class="validate">
                    <label for="query">Search here</label>
                </div>
                <div class="row">
                    <div class="col s12">
                        <button type="submit" class="btn-small text-shadow center search-action-btn">
                            <i class="fas fa-search left hide-on-small-only"></i> Search
                        </button>                      
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<!-- end of search container -->


{% if recommendations|length > 0 %}
<div class="container-fluid">
    <div class="row recommendation-row">
        {% for recommendation in recommendations %}
        <div class="col s12 m6 l3">
            <div class="card medium">
                <div class="card-image">
                    <img src="#" alt="" class="activator">
                </div>
                <div class="card-content">
                    <h5 id="recommend-title"> {{recommendation.title}}</h5>
                    <p> <i class="fas fa-location-arrow"></i> {{ recommendation.location_name }} </p>
                    <p> <i class="fas fa-user-tag"> </i> {{ recommendation.visitor_type }}</p>
                    <p id="recommend-details"><i class="fas fa-comment"></i> {{ recommendation.details }}</p>
                </div>
                <!-- card action footer. user click to reveal more.  -->
                <div class="activator card-action">
                    Click to see More <i class="fas fa-angle-double-right"></i>
                </div>
                <!-- Full recommendation revealed when user click -->
                <div class="card-reveal">
                    <span class="card-title"><i class="far fa-times-circle right"></i><span><br>
                            <p> <i class="fas fa-comment"></i> {{ recommendation.details }}</p>
                            <p> Created By: <span>{{ recommendation.created_by }}</span></p>
                            <div class="card-title activator right" id="reveal-close">Close <i
                                    class="far fa-times-circle"></i>
                            </div>
                </div>
            </div>
        </div>

        {% endfor %}


    </div>
    <!-- end of row for cards -->
</div>
<!-- end of container -->
{% else %}
<h3 class="center-align red-text">No Results found</h3>
{% endif %}

{% endblock %}

